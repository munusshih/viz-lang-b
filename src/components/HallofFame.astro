---
import { studentsSorted } from "@/config";

interface Props {
  excludeStudent?: string;
}

const { excludeStudent } = Astro.props as Props;

// Use the shared student data, already sorted alphabetically
const students = studentsSorted;
---

<section class="hall-of-fame">
  <h1 class="heading-1">
    {excludeStudent ? "Other Students" : "Hall of Fame"}
  </h1>
  <div class="students-grid">
    {
      students.map((student, index) => {
        const isCurrentStudent = excludeStudent && student.studentId === excludeStudent;
        
        return (
          <div class="student-card" key={index}>
            <h3 class="student-name">
              {isCurrentStudent ? (
                <span class="opacity-30 cursor-default">
                  {student.firstName} {student.lastName}
                </span>
              ) : student.studentId ? (
                <a
                  rel="noopener noreferrer"
                  href={`/students/${student.studentId}/`}
                >
                  {student.firstName} {student.lastName}
                </a>
              ) : (
                <span>
                  {student.firstName} {student.lastName}
                </span>
              )}
            </h3>
          </div>
        );
      })
    }
  </div>
</section>
